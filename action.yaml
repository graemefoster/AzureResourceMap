name: 'graemefoster-azurediagrams-action'
description: 'Runs AzureDiagramGenerator'
branding:
  icon: 'command'
  color: 'green'
inputs:
  subscriptionId:
    description: 'Azure Subscription Id'
    required: true
  resourceGroup:
    description: 'Azure Resource group'
    required: true
  accessToken:
    description: 'Access Token that can read the resources'
    required: true
  outputFileName:
    description: 'Output file name to write to (will write to the working directory)'
    required: true
runs:
  using: 'docker'
  image: 'Dockerfile'
  args:
    - "--subscription-id" 
    - "${{ inputs.subscriptionId }}"
    - "--resource-group"
    - "${{ inputs.resourceGroup }}"
    - "--token"
    - "${{ inputs.accessToken }}"
    - "--output-file-name"
    - "${{ inputs.outputFileName }}"
